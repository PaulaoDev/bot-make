"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var bot={};bot.calls={},bot.entrys=[],bot.train=function(a,b){bot.entrys.push({input:new RegExp("^"+a+"$","i"),output:b})},bot.run_train=function(a){return bot.entrys.map(function(b){var c=b.input,d=b.output,f=b.level,g=c.test(a);return{input:c,output:d,status:g}})},bot.respond=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return{run:function(f){return{save:function(h){b.map(function(j){return bot.train(j,h)}),bot.calls[h]=f}}}}},bot.run=function(a){var b=bot.run_train(a),c=b.filter(function(h){return h.status});if(c=Array.isArray(c)&&0<c.length?c[0]:null,null!==c){var d=c.output,f=c.input,g=Array.from(a.match(f))||[];g=0<g.length?g.slice(1):[],bot.calls[d].bind({receive:a,intent:d,args:function(){return g}}).apply(void 0,_toConsumableArray(g))}},module.exports=bot;